/**
 * Footer Component for Grabbit
 * Handles the footer template and its interactions
 */

class GrabbitFooter {
    constructor(containerId) {
        this.container = document.getElementById(containerId);
        if (this.container) {
            this.render();
            this.initLogic();
        }
    }

    render() {
        this.container.innerHTML = `
            <footer class="footer">
                <p>Grabbit is created by <a href="https://socratisp.com" target="_blank">Socrates</a></p>

                <div class="support-section">
                    <p>Support Grabbit</p>
                    <div class="support-buttons">
                        <a href="https://paypal.me/tinycobra" target="_blank" class="support-button paypal-button">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                <path style="color: white;"
                                    d="M20.067 8.478c.492.315.844.825.983 1.47.545 2.537-.274 4.319-2.464 5.344-1.986.93-4.326.93-6.31 0l-.792 3.709H7.696L8.49 15.29c.58-2.71 2.208-4.114 4.88-4.212 1.614-.059 2.86.394 3.737 1.359-.298-1.38-1.495-2.07-3.59-2.07-1.405 0-2.53.31-3.376.93l.692-3.242c1.288-.552 2.674-.828 4.157-.828 2.74 0 4.462.817 5.167 2.45z"
                                    fill="currentColor" />
                            </svg>
                            <span style="color: white;">Support with PayPal</span>
                        </a>
                        <a href="https://revolut.me/socratespap" target="_blank" class="support-button revolut-button">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 103 24">
                                <path
                                    d="M68.664 8.915c-1.784-1.612-3.938-2.4-6.428-2.4-2.456 0-4.61.789-6.395 2.4-1.784 1.577-2.691 3.772-2.691 6.584s.907 5.005 2.691 6.617c1.784 1.577 3.939 2.366 6.395 2.366 2.49 0 4.644-.789 6.428-2.366 1.818-1.612 2.725-3.806 2.725-6.617s-.908-5.007-2.725-6.584zm-9.792 10.183c-.941-.925-1.415-2.126-1.415-3.6s.47-2.674 1.415-3.566a4.6 4.6 0 0 1 3.363-1.371 4.68 4.68 0 0 1 3.398 1.371c.974.892 1.448 2.091 1.448 3.566s-.47 2.674-1.448 3.6c-.941.891-2.086 1.337-3.398 1.337a4.71 4.71 0 0 1-3.363-1.337zm18.881 4.903V.473h-4.24v23.528zM91.438 6.995v9.388c0 2.262-1.2 3.762-3.484 3.762-2.323 0-3.491-1.498-3.491-3.762V6.995h-4.248v10.108c0 3.916 2.423 7.378 7.739 7.378h.033c5.283 0 7.702-3.539 7.702-7.378V6.995zm-42.8 0l-4.24 11.52-4.24-11.52h-4.509l6.766 17.007h3.972l6.765-17.007zm-12.969 8.023c0-2.468-.773-4.491-2.288-6.103s-3.464-2.4-5.854-2.4c-2.456 0-4.544.858-6.26 2.537-1.684 1.681-2.523 3.806-2.523 6.446s.841 4.801 2.49 6.48c1.684 1.681 3.703 2.503 6.092 2.503 3.67 0 6.26-1.646 7.839-4.972l-3.162-1.852c-1.041 2.091-2.558 3.12-4.61 3.12-2.523 0-4.307-1.646-4.577-4.251h12.852v-1.509zM27.39 9.806c2.389 0 3.972 1.371 4.375 3.566h-8.951c.641-2.023 2.389-3.566 4.577-3.566zm-8.647 14.195l-5.689-10.148c3.599-1.337 5.383-3.668 5.383-7.063C18.441 2.641 15.208 0 10.06 0H0v24.001h4.442v-9.737h3.77l5.45 9.738zM10.06 3.977c2.625 0 3.938 1.063 3.938 3.154s-1.314 3.154-3.938 3.154H4.442V3.977zm92.817 20.504c-2.729 0-4.942-2.256-4.942-5.04V2.4h4.24v4.601h3.636v3.497h-3.636v8.665c0 .816.649 1.477 1.451 1.477h2.185v3.841z"
                                    fill="currentColor" />
                            </svg>
                        </a>
                    </div>
                </div>

                <div class="contributors-section">
                    <p>Open Source Contributors</p>
                    <div class="contributors-list">
                        <a href="https://github.com/TheTacoScott" target="_blank" class="contributor-link">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="github-icon">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                            <span class="contributor-name">@TheTacoScott</span>
                        </a>
                        <a href="https://github.com/oaustegard" target="_blank" class="contributor-link">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="github-icon">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                            <span class="contributor-name">@oaustegard</span>
                        </a>
                        <a href="https://github.com/digirat" target="_blank" class="contributor-link">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="github-icon">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                            <span class="contributor-name">@digirat</span>
                        </a>
                    </div>
                    <div class="contribute-callout">
                        <a href="https://github.com/socratespap/Grabbit" target="_blank" class="contribute-button">
                            <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="github-icon">
                                <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/>
                            </svg>
                            <span>Contribute on GitHub</span>
                        </a>
                    </div>
                </div>
            </footer>
        `;
    }

    initLogic() {
        // Rate button functionality (if rate button exists)
        const rateButton = document.getElementById('rateExtensionButton');
        if (rateButton) {
            rateButton.addEventListener('click', () => {
                chrome.webstore.postRating();
            });
        }

        // Pin button functionality (if pin button exists)
        const pinButton = document.getElementById('pinExtensionButton');
        if (pinButton) {
            pinButton.addEventListener('click', () => {
                // Open a guide on how to pin extensions
                window.open('https://support.google.com/chrome_webstore/answer/3060053', '_blank');
            });
        }
    }
}

// Auto-initialize if the script is loaded and a placeholder exists
document.addEventListener('DOMContentLoaded', () => {
    const placeholder = document.getElementById('footer-placeholder');
    if (placeholder) {
        new GrabbitFooter('footer-placeholder');
    }
});
